<!DOCTYPE html>
<html lang="es">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Configuración</title>
    <link rel="stylesheet" href="header.css">
    <link rel="stylesheet" href="stylish.css">
    <link rel="icon" href="Images html/logo pestaña.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
</head>

<body>
    <header class="header">
        <img class="logoarriba" src="Images html/LOGOLH.png" alt="Learn Hub">
        <div class="search">
            <input type="search" name="Buscar" id="búsqueda" placeholder="Buscar">
            <button class="buttonsearch"><i class="fas fa-search"></i></button>
        </div>
        <nav class="navbar">
            <ul>
                <li class="boton-inicio"><button class="inicio" onclick="window.location.href='home.html'"><img src="Images html/logo inicio.png" alt=""></button><a href="home.html">Inicio</a></li>
                <li class="boton-perfil-alumno"><button onclick="window.location.href='perfil.html'"><img src="Images html/logo perfil alumno.png" alt=""></button><a href="perfil.html">Perfil</a></li>
                <li class="boton-mis-profesores"><button onclick="window.location.href='misprofesores.html'"><img src="Images html/logo mis profesores.png" alt=""></button><a href="misprofesores.html">Mis profesores</a></li>
                <li class="boton-calendario"><button onclick="window.location.href='calendario.html'"><img src="Images html/logo calendario.png" alt=""></button><a href="calendario.html">Calendario</a></li>
                <li class="boton-configuracion"><button onclick="window.location.href='configuracion.html'"><img src="Images html/logo configuracion.png" alt=""></button><a href="configuracion.html">Configuración</a></li>
            </ul>
        </nav>
        <button id="menubutton"><img src="Images html/menubutton.png" alt="MENU"></button>
        <nav class="menu" id="menu">
            <ul>
                <li><a href="home.html">Inicio</a></li>
                <li><a href="perfil.html">Perfil</a></li>
                <li><a href="misprofesores.html">Mis profesores</a></li>
                <li><a href="calendario.html">Calendario</a></li>
                <li><a href="configuracion.html">Configuración</a></li>
            </ul>
        </nav>
    </header>

    <!-- Calendario de eventos -->
    <div id="calendar"></div>

    <!-- Próximas clases section -->
    <div id="Proximas clases">
        <h1>Próximas Clases</h1>
        <p>Lunes 1/10</p>
        <p>15:00-16:30</p>
        <p>Clase con Ezequiel Agradnik</p>
        <p>18:00-19:00</p>
        <p>Clase con Sergio Coppa</p>
        <p>Viernes 4/10</p>
        <p>16:00-17:00</p>
        <p>Clase con Martín Melman</p>
        <p>15:00-16:00</p>
        <p>Clase con Sergio Coppa</p>
    </div>

    <script>
     const userId = localStorage.getItem('userId');

// Función para obtener las reservaciones del usuario
async function obtenerReservaciones() {
    try {
        const response = await fetch(`https://learn-hub-eta.vercel.app/reservaciones/IDalumno/${userId}`);
        
        if (response.ok) {
            const reservaciones = await response.json();
            console.log("Reservaciones obtenidas:", reservaciones);

            // Seleccionar el contenedor para mostrar las reservaciones
            const contenedorClases = document.getElementById('proximas-clases');

            // Limpiar el contenedor antes de agregar las nuevas reservaciones
            contenedorClases.innerHTML = '<h1>Próximas Clases</h1>';

            // Crear divs para cada reservación
            reservaciones.forEach(reservacion => {
                const divClase = document.createElement('div');
                divClase.classList.add('evento-clase');
                divClase.innerHTML = `
                    <p><strong>Fecha:</strong> ${reservacion.dia}</p>
                    <p><strong>Hora:</strong> ${reservacion.hora}</p>
                    <p><strong>Profesor:</strong> ${reservacion.profesor}</p>
                `;
                contenedorClases.appendChild(divClase);
            });
        } else {
            console.error("Error al obtener reservaciones:", await response.text());
        }
    } catch (error) {
        console.error("Error en la solicitud de reservaciones:", error);
    }
}

// Llamar a la función para cargar las reservaciones al cargar la página
window.onload = obtenerReservaciones;

    </script>
</body>
</html>
